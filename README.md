## Custom vless-ws-tls Proxy on Cloudflare

> Base on [ZiZifn] EdgeTunnel

این پروژه به شما اجازه می‌دهد تا بدون نیاز به سرور شخصی، تنها با استفاده از Cloudflare Workers و Pages، یک پروکسی امن و پایدار برای خود یا دوستانتان داشته باشید. تمام پردازش‌ها در شبکه کلادفلر انجام می‌شود و شما از سرعت و امنیت این زیرساخت بهره‌مند خواهید شد.
همچنین این پروژه دارای یک رابط کاربری حرفه‌ای برای نمایش پیکربندی پروکسی و اطلاعات شبکه است.

<br/> 

 ## برخی از ویژگی‌ها


> 
> 🧩 **راه‌اندازی سریع و آسان:** در کمتر از ۵ دقیقه و با چند کلیک، پروکسی شما آماده است.
>
> ⚙️ **کد سمت‌سرور قدرتمند:** کد‌ بک‌اند این پروژه بدون نیاز به مبهم‌سازی‌ های سنگین و پیچیده بدون دریافت خطای 1101 به شکل عادی به کار خود ادامه می‌دهد. امتحان کنید.
>
> 📈 **پنل حرفه‌ای اطلاعات:** این پروژه دارای یک رابط کاربری حرفه‌ای برای نمایش پیکربندی‌ کانفیگ‌ها و اطلاعات شبکه و کانکشن شما می‌باشد.
>   
> 🧠 **دریافت خودکار آی‌پی:** آی‌پی‌های تمیز به صورت خودکار از مخازن معتبر گیت‌هاب دریافت و در کانفیگ‌هلی موجود در لینک ساب‌اسکریپشن شما قرار می‌گیرند.
>   
> 🔄 **بروزرسانی لینک ساب:** با هر بار آپدیت اشتراک در کلاینت، آی‌پی‌های جدید جایگزین می‌شوند.
>   
> 💻 **سه روش نصب متفاوت:** مناسب برای کاربران مبتدی تا حرفه‌ای (Fork، copy/paste، استفاده از فایل _worker.js).
> 
> 🖱️ **اتصال با یک کلیک:** دکمه‌های آماده برای وارد کردن لینک اشتراک به محبوب‌ترین کلاینت‌ها.
> 

</div>
   
## نحوه راه‌اندازی

شما می‌تونید به یکی از سه روش زیر پروژه رو روی اکانت کلادفلر خود دپلوی کنید.
### روش اول: Fork و اتصال به گیت‌هاب (پیشنهادی)
این بهترین و ساده‌ترین روش برای مدیریت و بروزرسانی‌های آینده است.
 * Fork کردن پروژه: ابتدا این مخزن (Repository) را در اکانت گیت‌هاب خود Fork کنید.
 * ورود به کلادفلر: وارد داشبورد Cloudflare خود شوید.
 * ساخت پروژه: به بخش Workers & Pages رفته و روی Create application کلیک کنید. سپس تب Pages را انتخاب کرده و Connect to Git را بزنید.
 * انتخاب مخزن: مخزن فورک شده خود را انتخاب کنید و Begin setup را بزنید.
 * تنظیمات دیپلوی:
   * Project name: یک نام دلخواه برای پروژه‌تان انتخاب کنید.
   * Production branch: شاخه main را انتخاب کنید.
   * Framework preset: گزینه None را انتخاب کنید.
 * ذخیره و دیپلوی: روی Save and Deploy کلیک کنید. پروژه شما در چند ثانیه دیپلوی خواهد شد!
### روش دوم: کپی و پیست مستقیم (سریع‌ترین روش)
این روش برای تست سریع و بدون نیاز به گیت‌هاب مناسب است.
 * ورود به کلادفلر: وارد داشبورد Cloudflare و بخش Workers & Pages شوید.
 * ساخت ورکر: روی Create application کلیک کرده و یک نام دلخواه برای ورکر خود انتخاب کنید. سپس Deploy را بزنید.
 * کپی کردن کد: روی Edit code کلیک کنید. محتویات فایل index.js از این مخزن را کپی کرده و به طور کامل جایگزین کدهای موجود در ویرایشگر کلادفلر کنید.
 * ذخیره: روی Save and Deploy کلیک کنید.
### روش سوم: استفاده از _worker.js (برای Pages)
این روش به شما اجازه می‌دهد از فایل مبهم‌سازی شده برای دیپلوی در Cloudflare Pages (بدون اتصال به گیت) استفاده کنید.
 * فایل _worker.js را از این مخزن دانلود کنید.
 * در داشبورد کلادفلر، به بخش Workers & Pages بروید.
 * در تب Pages روی Upload assets کلیک کرده و فایل _worker.js را آپلود کنید.
⚙️ تنظیمات و متغیرها
بعد از راه‌اندازی، باید متغیرهای محیطی (Environment Variables) را برای شخصی‌سازی پروکسی خود تنظیم کنید. این متغیرها را در داشبورد پروژه خود در کلادفلر، در مسیر زیر اضافه کنید:
Settings > Variables > Environment Variables > Add variable
| متغیر | توضیحات | الزامی/اختیاری | مقدار پیش‌فرض/نمونه |
|---|---|---|---|
| UUID | شناسه کاربری منحصر به فرد شما. این متغیر برای امنیت ضروری است. | الزامی | برای ساخت، به UUID Generator مراجعه کنید. |
| PROXYIP | یک IP یا دامنه برای fronting. این آدرس به عنوان آی‌پی جایگزین در کانفیگ‌ها استفاده می‌شود. | اختیاری | از مخزن پیشنهادی یک مورد را انتخاب کنید. |
| SCAMALYTICS_USERNAME | نام کاربری سرویس Scamalytics برای تحلیل IP. | اختیاری | برای مصرف شخصی نیاز نیست. در صورت استفاده عمومی و فورک‌های زیاد، از سایت Scamalytics اکانت بسازید. |
| SCAMALYTICS_API_KEY | کلید API سرویس Scamalytics. | اختیاری | همراه با نام کاربری از سایت Scamalytics دریافت می‌شود. |
🔗 نحوه استفاده
### ۱. دسترسی به پنل مدیریت
پس از دیپلوی، کافیست UUID خود را به انتهای آدرس ورکر یا پیج خود اضافه کنید:
https://<Your-Worker-URL>/<Your-UUID>
برای مثال:
https://my-proxy.pages.dev/d342d11e-d424-4583-b36e-524ab1f0afa4
در این صفحه می‌توانید کانفیگ‌های اصلی، لینک اشتراک و اطلاعات شبکه را مشاهده کنید.
### ۲. دریافت لینک اشتراک (Subscription)
لینک اشتراک شما شامل ده‌ها کانفیگ مبتنی بر آی‌پی‌های تمیز و بروز است. برای دریافت آن، عبارت ipsub را بین آدرس ورکر و UUID خود قرار دهید:
https://<Your-Worker-URL>/ipsub/<Your-UUID>
برای مثال:
https://my-proxy.pages.dev/ipsub/d342d11e-d424-4583-b36e-524ab1f0afa4
نکته: آی‌پی‌های این لینک از مخزن آی‌پی تمیز REvil گرفته می‌شوند و با هر بار آپدیت اشتراک در کلاینت شما، تازه می‌شوند.

### ۳. اتصال با یک کلیک
برای راحتی، می‌توانید از دکمه‌های موجود در پنل مدیریت برای وارد کردن خودکار لینک اشتراک به کلاینت‌های محبوب زیر استفاده کنید:
 * 📱 Hiddify, Singbox 
 * 🤖 V2RayNG, MahsaNG
 * 🐱 Clash Meta, Nekobox
 * 📦 Exclave, SagerNet

[ZiZifn]: https://github.com/zizifn/edgetunnel
